<!DOCTYPE html>
<html lang="en">
<head>
  <title>KNN Example with Chart Table</title>
  <meta charset="utf-8">
  <script src="https://d3js.org/d3.v4.min.js"></script>
  <script type="text/javascript" src="https://unpkg.com/knn-js@1.0.0/dist/knnjs.min.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/knn-js@1.0.0/dist/knnjs.min.css"></link>
  <script type="text/javascript" src="https://unpkg.com/chart-table@1.0.1/dist/charttable.min.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/chart-table@1.0.1/dist/charttable.min.css"></link>
</head>
<body>
  <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Eum facere voluptas soluta iste possimus, dolorum aliquam alias cupiditate nostrum placeat laudantium, culpa perferendis, laboriosam omnis neque aperiam! Voluptas, necessitatibus, ipsa.</p>
  <div id="mytable"></div>
  <div id="myknn"></div>
  <script>
    const mytable = charttable.table();
    const myknn = knnjs.knn();
    const tol_vibrant = ["#EE7733", "#0077BB", "#33BBEE", "#EE3377", "#CC3311", "#009988"];
    mytable.initTbl(document.getElementById("mytable"), {
      colors: tol_vibrant,
      minSelectedRow2Show: 4,
      minSelectedCol2Show: 2,
      height: 540,
      onSelect: function(data) {
        myknn.init(document.getElementById("myknn"), {
          colorMap: data.selectedColorMap,
          selectedDataSet: data.selectedRows, 
          selectedColumns: data.selectedColumns, 
          categoryName: data.categoryName
        });
      }
    });

    mytable.showDataset([
      {age: 30, year_of_operation: 65, positive_axillary_nodes: 0, survival_status: 1},
      {age: 38, year_of_operation: 66, positive_axillary_nodes: 0, survival_status: 1},
      {age: 42, year_of_operation: 59, positive_axillary_nodes: 0, survival_status: 2},
      {age: 49, year_of_operation: 63, positive_axillary_nodes: 0, survival_status: 2},
      {age: 49, year_of_operation: 61, positive_axillary_nodes: 0, survival_status: 1},
      {age: 55, year_of_operation: 66, positive_axillary_nodes: 18, survival_status: 1},
      {age: 56, year_of_operation: 60, positive_axillary_nodes: 0, survival_status: 1},
      {age: 61, year_of_operation: 65, positive_axillary_nodes: 0, survival_status: 2},
      {age: 61, year_of_operation: 59, positive_axillary_nodes: 0, survival_status: 1},
      {age: 64, year_of_operation: 66, positive_axillary_nodes: 0, survival_status: 1}
    ]);
  </script>
</body>
</html>
